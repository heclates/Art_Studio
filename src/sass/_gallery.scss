@use "variables" as *;
@use "animation" as *;

.gallery {
    width: 100%;
    padding: 4rem 1rem;
    background-color: $text-color-light;
    text-align: center;
    font-family: 'Inter', sans-serif;
    overflow: hidden;
    animation: fade-in 0.7s ease-out forwards;

    &__title {
        font-size: 2.5rem;
        font-weight: 700;
        color: $text-color-dark;
        margin-bottom: 1rem;
        @media (max-width: 600px) { font-size: 2rem; }
    }
    &__text {
        font-size: 1.15rem;
        color: $text-color-medium;
        margin-bottom: 3rem;
        @media (max-width: 600px) { font-size: 1rem; }
    }
    .gallery-swiper {
        position: relative;
        max-width: 1400px;
        margin: 0 auto;
        padding-bottom: 3rem;
        height: auto;
        overflow: hidden;

        .swiper-wrapper {
            display: flex;
            align-items: stretch;
            transition: all 0.4s ease;
            height: 100%;
        }

        .swiper-slide {
            display: flex;
            justify-content: center;
            width: auto;
            flex-shrink: 0;
            transition: transform 0.4s ease, filter 0.4s ease;
            height: 100%;
        }

        .swiper-slide.active-zoom {
            transform: scale(1.05);
            z-index: 2;
        }

        .swiper-slide.blur-slide {
            filter: blur(2px) brightness(0.9);
            transform: scale(0.95);
        }

        @media (pointer: coarse) {
            .swiper-button-prev,
            .swiper-button-next { display: none !important; }
        }

        .swiper-button-prev,
        .swiper-button-next {
            color: $primary-color;
            @media (max-width: 1024px) { display: none !important; }
            &:after { font-size: 2rem; }
        }

        .swiper-pagination-bullet {
            background: $border-light;
            opacity: 1;
        }

        .swiper-pagination-bullet-active {
            background: $primary-color;
        }
    }
    &__item {
        display: flex;
        flex-direction: column;
        background-color: $text-color-light;
        border-radius: 1rem;
        overflow: hidden;
        box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        transition: transform 0.35s ease, box-shadow 0.35s ease;
        animation: fade-in-up 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94) both;

        &:hover { 
            transform: translateY(-8px); 
            box-shadow: 0 16px 40px rgba(0,0,0,0.15); 
        }

        &__img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.4s ease;
            .gallery__item:hover & { transform: scale(1.05); }
        }

        &__caption {
            padding: 1rem 1.2rem;
            font-size: 1rem;
            color: $text-color-dark;
            background-color: $background-page;
            text-align: left;
            border-top: 1px solid $border-light;
        }
    }
}